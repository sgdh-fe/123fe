<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-192x192.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">






  <meta name="keywords" content="ä¼˜åŒ–,IE6,å†…å­˜æ³„éœ²,">










<meta name="keywords" content="ä¼˜åŒ–,IE6,å†…å­˜æ³„éœ²">
<meta property="og:type" content="article">
<meta property="og:title" content="IE&lt;8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²">
<meta property="og:url" content="http://123fe.com/2017/11/10/IE-8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²/index.html">
<meta property="og:site_name" content="Sogou.dh.fe">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://123fe.com/2017/11/10/IE-8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²/leakage.png">
<meta property="og:updated_time" content="2019-08-04T08:44:02.589Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IE&lt;8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²">
<meta name="twitter:image" content="http://123fe.com/2017/11/10/IE-8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²/leakage.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://123fe.com/2017/11/10/IE-8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²/">





  <title>IE<8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ² |="" sogou.dh.fe<="" title="">
  








</8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²></title></head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sogou.dh.fe</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">fe blogs</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-github">
          <a href="https://github.com/sgdh-fe" rel="section">
            
            Github
          </a>
        </li>
      
        
        <li class="menu-item menu-item-projects">
          <a href="http://git.dh.sogou-inc.com/groups/fe" rel="section">
            
            Projects
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://123fe.com/2017/11/10/IE-8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sgdhfe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/logo.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sogou.dh.fe">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">IE<8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²< h1="">
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-10T18:05:58+08:00">
                2017-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/memory/" itemprop="url" rel="index">
                    <span itemprop="name">memory</span>
                  </a>
                </span>

                
                
              
            </span>
          
          <span> ï½œ </span><span class="fa fa-user-o"> </span><span style="color:#222;"> singsong</span>
          
            
          

          
          

          

          

          

        </div>
      </8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²<></h1></header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="/2017/11/10/IE-8å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„éœ²/leakage.png" alt="leakage"></p>
<a id="more"></a>
<p>åœ¨IE&lt;8ç‰ˆæœ¬ä¸­ï¼ŒJScriptåƒåœ¾å›æ”¶å™¨ä»…ç®¡ç†JScriptå¯¹è±¡ç”Ÿå‘½å‘¨æœŸè€Œä¸ä¼šç®¡ç†DOMå¯¹è±¡çš„(å³DOMå¯¹è±¡æœ‰è‡ªå·±çš„åƒåœ¾å›æ”¶å™¨)ã€‚å› æ­¤JScriptå›æ”¶å™¨ä¸ä¼šè§£é™¤æ‰DOMå¯¹è±¡ä¸Jscriptå¯¹è±¡ä¹‹é—´çš„ç›¸äº’å¼•ç”¨ï¼Œè¿™ä»è€Œå¯¼è‡´å†…å­˜æ³„éœ²ã€‚<br>åœ¨IE6ä¸­ï¼Œå¾ªç¯å¼•ç”¨åªåœ¨IEæµè§ˆå™¨ç¨‹åºé€€å‡ºæ—¶æ‰ä¼šè¢«è§£é™¤ï¼Œè€Œåœ¨IE7ä¸­ï¼Œç¦»å¼€å½“å‰é¡µé¢æ—¶ï¼Œæ‰ä¼šè§£é™¤é¡µé¢ä¸­çš„å¾ªç¯å¼•ç”¨ã€‚IE8ä¿®å¤è¯¥é—®é¢˜ï¼ŒJScriptåƒåœ¾å›æ”¶å™¨ä¼šå°†å¼•ç”¨çš„DOMå¯¹è±¡è§†ä¸ºJScriptå¯¹è±¡ï¼Œä»è€Œé¿å…å¾ªç¯å¼•ç”¨ä¸èƒ½è¢«è§£é™¤çš„é—®é¢˜ï¼ˆ<em>æ³¨ï¼šè¿™é‡Œå¾ªç¯å¼•ç”¨è§£é™¤æ˜¯æŒ‡æµè§ˆå™¨è‡ªåŠ¨è§£é™¤å¾ªç¯å¼•ç”¨</em>ï¼‰ã€‚</p>
<p>IE6-7ä¸­ç®¡ç†DOMå¯¹è±¡çš„åƒåœ¾å›æ”¶å™¨æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Œå¦‚æœDOMå¯¹è±¡ä¸jså¯¹è±¡å­˜åœ¨å¾ªç¯å¼•ç”¨ã€‚éœ€è¦å°†DOMå¯¹è±¡ä¸Šçš„expandoå±æ€§è®¾ç½®ä¸ºnullæˆ–é‡æ–°èµ‹å€¼ã€‚è¿™æ ·æ‰èƒ½å›æ”¶DOMå¯¹è±¡ã€‚(<em>æ³¨ï¼šè¿™é‡Œåªæ˜¯é’ˆå¯¹DOMçš„å›æ”¶</em>)<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"JScript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> myGlobalObject;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">SetupLeak</span>(<span class="params"></span>)</span></span></span><br><span class="line"><span class="undefined">        &#123;</span></span><br><span class="line"><span class="javascript">            myGlobalObject = <span class="built_in">document</span>.getElementById(<span class="string">"LeakedDiv"</span>);<span class="comment">// â† jså¯¹è±¡å¼•ç”¨DOMå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">"LeakedDiv"</span>).expandoProperty = myGlobalObject;<span class="comment">// â† DOMå¯¹è±¡çš„expandoå±æ€§å¼•ç”¨jså¯¹è±¡</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">BreakLeak</span>(<span class="params"></span>)</span></span></span><br><span class="line"><span class="undefined">        &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.getElementById(<span class="string">"LeakedDiv"</span>).expandoProperty = <span class="literal">null</span>;<span class="comment">// â† è®¾ç½®ä¸ºnullæˆ–é‡æ–°èµ‹æ–°å€¼</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"SetupLeak()"</span> <span class="attr">onunload</span>=<span class="string">"BreakLeak()"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"LeakedDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>ä¸Šè¿°ä»£ç çš„å¾ªç¯å¼•ç”¨ä¸æ˜¯å¾ˆå¤æ‚ï¼Œå¾ˆå®¹æ˜“å‘ç°ã€‚ä¸è¿‡å®é™…é¡¹ç›®ä¸­å¯èƒ½ä¼šå­˜åœ¨å¾ªç¯é“¾å¾ˆé•¿çš„æƒ…å†µï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> d=&#123;<span class="attr">b</span>:<span class="built_in">document</span>.body&#125;</span><br><span class="line">    <span class="keyword">var</span> obj=&#123;<span class="attr">doc</span>:d&#125;; <span class="comment">// â† obj.doc.b === document.body</span></span><br><span class="line">    <span class="built_in">document</span>.body.o=obj; <span class="comment">// â† å¾ªç¯å¼•ç”¨: document.body.o.doc.b === document.body</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p>
<p>å¦å¤–ä¸€ç§å¸¸è§çš„å¾ªç¯å¼•ç”¨å‘ç”Ÿåœ¨é—­åŒ…ä¸­ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b=<span class="built_in">document</span>.body; <span class="comment">// â† åˆ›å»ºä¸€ä¸ªå¼•ç”¨document.bodyçš„å˜é‡"b"</span></span><br><span class="line">    b.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// â† b.onclickå¼•ç”¨function</span></span><br><span class="line">    <span class="comment">// é€šè¿‡é—­åŒ…èƒ½åœ¨å‡½æ•°ä¸­èƒ½è®¿é—®åˆ°"b"</span></span><br><span class="line">    <span class="comment">// do something...</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p>
<h2 id="ä¸ºä»€ä¹ˆDOMçš„åƒåœ¾å›æ”¶å™¨æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆDOMçš„åƒåœ¾å›æ”¶å™¨æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆDOMçš„åƒåœ¾å›æ”¶å™¨æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Ÿ"></a>ä¸ºä»€ä¹ˆDOMçš„åƒåœ¾å›æ”¶å™¨æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Ÿ</h2><p>IEä¸­æœ‰ä¸€éƒ¨åˆ†å¯¹è±¡å¹¶ä¸æ˜¯åŸç”Ÿjså¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå…¶å†…å­˜æ³„éœ²DOMå’ŒBOMä¸­çš„å¯¹è±¡å°±æ˜¯ä½¿ç”¨C++ä»¥COM(component object modelï¼Œç»„ä»¶å¯¹è±¡æ¨¡å‹)å¯¹è±¡çš„å½¢å¼å®ç°çš„ï¼Œè€ŒCOMå¯¹è±¡çš„åƒåœ¾å›æ”¶æœºåˆ¶é‡‡ç”¨çš„å°±æ˜¯å¼•ç”¨è®¡æ•°ç­–ç•¥ã€‚å› æ­¤ï¼Œå³ä½¿IEçš„jså¼•æ“é‡‡ç”¨æ ‡è®°æ¸…é™¤ç­–ç•¥æ¥å®ç°ï¼Œä½†jsè®¿é—®çš„COMå¯¹è±¡ä¾ç„¶æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥çš„ã€‚æ¢å¥è¯è¯´ï¼Œåªè¦åœ¨IEä¸­æ¶‰åŠCOMå¯¹è±¡ï¼Œå°±ä¼šå­˜åœ¨å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚åœ¨IE9æŠŠBOMå’ŒDOMå¯¹è±¡è½¬æ¢ä¸ºçœŸæ­£çš„jså¯¹è±¡ã€‚</p>
<p>é™¤äº†ä½ç‰ˆæœ¬çš„IEå¤–ï¼Œåœ¨ä½ç‰ˆæœ¬çš„Firefox(å¦‚Firefox3.0)ä¸­ä¹Ÿå­˜åœ¨ç±»ä¼¼é—®é¢˜ã€‚å®ƒä¹Ÿæ˜¯é€šè¿‡COMæ¥ç®¡ç†DOMï¼Œä¸Windowsçš„COMç±»ä¼¼ï¼ŒMozillaçš„XPCOMä¹Ÿæ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ã€‚</p>
<h2 id="å¦‚ä½•é¿å…åŠä¿®å¤ï¼Ÿ"><a href="#å¦‚ä½•é¿å…åŠä¿®å¤ï¼Ÿ" class="headerlink" title="å¦‚ä½•é¿å…åŠä¿®å¤ï¼Ÿ"></a>å¦‚ä½•é¿å…åŠä¿®å¤ï¼Ÿ</h2><p>å¾ªç¯å¼•ç”¨æ˜¯å¯¼è‡´ä½ç‰ˆæœ¬IEå’ŒFirefoxæµè§ˆå™¨å†…å­˜æ³„éœ²çš„çœŸæ­£åŸå› ï¼Œå› æ­¤æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯é¿å…åœ¨DOMå’ŒJSä¹‹é—´åˆ›å»ºç›¸äº’å¼•ç”¨ã€‚ç¡®ä¿æ€»æ˜¯JSå¯¹è±¡å•å‘å¼•ç”¨DOMå¯¹è±¡ï¼Œæˆ–DOMå¯¹è±¡å•å‘å¼•ç”¨JSå¯¹è±¡ã€‚è™½ç„¶è¯´èµ·æ¥ç®€å•ï¼Œä½†å®é™…æƒ…å†µæ˜¯å¾ˆéš¾åšåˆ°çš„ã€‚é‚£å¦‚ä½•ä¿®å¤å¾ªç¯å¼•ç”¨å°±å¾ˆé‡è¦äº†ï¼Œå¯ä»¥ç»´æŠ¤ä¸€ä¸ªå­˜åœ¨å¾ªç¯å¼•ç”¨DOMå¯¹è±¡çš„é˜Ÿåˆ—ï¼Œåœ¨é¡µé¢unloadæ—¶ï¼Œåšå¦‚ä¸‹å¤„ç†ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> unLoaders=[];</span><br><span class="line">    myDomNode.object=<span class="keyword">new</span> myObject(); <span class="comment">// â† å‡è®¾è¿™é‡Œåˆ›å»ºä¸€ä¸ªå¾ªç¯å¼•ç”¨ï¼Œä¼šå¼•èµ·å†…å­˜æ³„éœ²</span></span><br><span class="line">    unLoaders.push(myDomNode); <span class="comment">// â† ç¼“å­˜myDomNode</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> unload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">// â† unloadå›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=unLoaders.length<span class="number">-1</span>;i&gt;<span class="number">-1</span>;iâ€“)&#123;</span><br><span class="line">        unLoaders[i].object=<span class="literal">null</span>; <span class="comment">// â† åˆ‡æ–­å¾ªç¯å¼•ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">window</span>.addEvnetListener(â€™unloadâ€™, unload); <span class="comment">// â† ç»‘å®šunload</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p>
<p>jqueryåœ¨å¤„ç†IEä½ç‰ˆæœ¬ç±»ä¼¼é—®é¢˜æ—¶ï¼Œé‡‡ç”¨çš„ä¹Ÿæ˜¯ä¸Šè¿°æ–¹æ³•ï¼Œ<a href="https://github.com/jquery/jquery/blob/1.4.4rc1/src/event.js#L1169" target="_blank" rel="noopener">jqueryæºç </a>ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Prevent memory leaks in IE</span></span><br><span class="line"><span class="comment">// Window isn't included so as not to unbind existing unload events</span></span><br><span class="line"><span class="comment">// More info:</span></span><br><span class="line"><span class="comment">//  - http://isaacschlueter.com/2006/10/msie-memory-leaks/</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="built_in">window</span>.attachEvent &amp;&amp; !<span class="built_in">window</span>.addEventListener ) &#123;</span><br><span class="line">	jQuery(<span class="built_in">window</span>).bind(<span class="string">"unload"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> ( <span class="keyword">var</span> id <span class="keyword">in</span> jQuery.cache ) &#123;</span><br><span class="line">			<span class="keyword">if</span> ( jQuery.cache[ id ].handle ) &#123;</span><br><span class="line">				<span class="comment">// Try/Catch is to handle iframes being unloaded, see #4280</span></span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					jQuery.event.remove( jQuery.cache[ id ].handle.elem );</span><br><span class="line">				&#125; <span class="keyword">catch</span>(e) &#123;&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>This memory leak occurs because DOM objects are non-JScript objects. DOM objects are not in the mark-and-sweep garbage collection scheme of JScript. Therefore, the circular reference between the DOM objects and the JScript handlers will not be broken until the browser completely tears down the page. This memory leak will end when the browser opens a new Web page or when the browser window is closed.</p>
</blockquote>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>éšç€ç§»åŠ¨äº’è”ç½‘çš„é£é€Ÿå‘å±•ï¼ŒIEä¹Ÿå‘W3Cæ ‡å‡†é æ‹¢ï¼Œä½ç‰ˆæœ¬æµè§ˆå™¨æ­£é€æ¸è¢«æ·˜æ±°ã€‚ä¸è¿‡å®é™…ä¸šåŠ¡ä¸­ï¼Œè¿˜æ˜¯å­˜åœ¨å¯¹æŸäº›ä½ç‰ˆæœ¬è¿›è¡Œæ”¯æŒï¼Œè™½ç„¶æ¦‚ç‡å¾ˆå°‘ï¼Œä¸è¿‡ä¸ºäº†ä¿è¯ç”¨æˆ·ä½“éªŒï¼Œéœ€è¦å¯¹æœ¬æ–‡æ¶‰åŠçš„çŸ¥è¯†ç‚¹æœ‰æ‰€äº†è§£ã€‚ä¹Ÿè®¸ä½ çš„ä¸šåŠ¡ä¸­ï¼Œä¸éœ€è¦å¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨æ”¯æŒã€‚é‚£å°±æŠŠæœ¬æ–‡å½“æˆæµè§ˆå™¨å‘å±•å²æ¥äº†è§£å§ï¼Œä¹Ÿå¸Œæœ›ä½ èƒ½ä»æ–‡ç« æœ‰æ‰€æ”¶è·ã€‚</p>
<h2 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h2><ul>
<li><a href="https://msdn.microsoft.com/en-us/library/dd361842(v=vs.85" target="_blank" rel="noopener">Circular Memory Leak Mitigation</a>.aspx)</li>
<li><a href="https://stackoverflow.com/questions/15761094/dom-why-is-this-a-memory-leak" target="_blank" rel="noopener">DOM: why is this a memory leak?</a></li>
<li><a href="http://www.reigndropsfall.net/2011/01/05/internet-explorer-event-handler-leaks/" target="_blank" rel="noopener">Internet Explorer Event Handler Leaks</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Guide/Avoiding_leaks_in_JavaScript_components" target="_blank" rel="noopener">Avoiding leaks in JavaScript XPCOM components</a></li>
<li><a href="http://www.crockford.com/javascript/memory/leak.html" target="_blank" rel="noopener">JScript Memory Leaks</a></li>
<li><a href="http://isaacschlueter.com/2006/10/msie-memory-leaks/trackback/index.html" target="_blank" rel="noopener">Memory Leaks in Microsoft Internet Explorer</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ä¼˜åŒ–/" rel="tag"># ä¼˜åŒ–</a>
          
            <a href="/tags/IE6/" rel="tag"># IE6</a>
          
            <a href="/tags/å†…å­˜æ³„éœ²/" rel="tag"># å†…å­˜æ³„éœ²</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/01/å†…å­˜æ³„éœ²ä¹‹Listeners/" rel="next" title="å†…å­˜æ³„éœ²ä¹‹Listeners">
                <i class="fa fa-chevron-left"></i> å†…å­˜æ³„éœ²ä¹‹Listeners
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/11/13/å†…å­˜æ³„éœ²ä¹‹jQuery-cache/" rel="prev" title="å†…å­˜æ³„éœ²ä¹‹jQuery.cache">
                å†…å­˜æ³„éœ²ä¹‹jQuery.cache <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/logo.png" alt="sgdhfe">
            
              <p class="site-author-name" itemprop="name">sgdhfe</p>
              <p class="site-description motion-element" itemprop="description">ğŸ³ğŸ³ æœç‹—å¯¼èˆªå‰ç«¯å¼€å‘ç»„ ğŸ¬ğŸ¬</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/sgdh-fe" target="_blank" title="github">
                      
                        <i class="fa fa-fw fa-github"></i>github</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://123.sogou.com/" title="123sogou" target="_blank">123sogou</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¸ºä»€ä¹ˆDOMçš„åƒåœ¾å›æ”¶å™¨æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Ÿ"><span class="nav-number">1.</span> <span class="nav-text">ä¸ºä»€ä¹ˆDOMçš„åƒåœ¾å›æ”¶å™¨æ˜¯åŸºäºå¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¦‚ä½•é¿å…åŠä¿®å¤ï¼Ÿ"><span class="nav-number">2.</span> <span class="nav-text">å¦‚ä½•é¿å…åŠä¿®å¤ï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ€»ç»“"><span class="nav-number">3.</span> <span class="nav-text">æ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚è€ƒæ–‡ç« ï¼š"><span class="nav-number">4.</span> <span class="nav-text">å‚è€ƒæ–‡ç« ï¼š</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sgdhfe</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
