<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-192x192.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">






  <meta name="keywords" content="ä¼˜åŒ–,">










<meta name="description" content="ä¸€ç›´å¯¹ Medium çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½é¢‡æ„Ÿå…´è¶£ï¼Œåˆšå¥½æœ€è¿‘æœ‰æ—¶é—´æŠ˜è…¾äº†ä¸€ä¸‹ğŸ¤˜ã€‚å°æœ‰æ”¶è·ï¼Œå¹¶åœ¨è‡ªå·±çš„ blog ç«™ç‚¹å®è·µäº†ä¸€ä¸‹ï¼Œæ€»ä½“ä½“éªŒè¿˜æ˜¯ä¸é”™æ»´ğŸ˜†ã€‚è™½ç„¶ä¹‹å‰å¯¹å…¶å®ç°æ€è·¯æœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œä½†å½“è‡ªå·±æ·±å…¥ç ”ç©¶åï¼Œå‘ç°è¿˜æ˜¯æœ‰äº›å€¼å¾—æ¢è®¨çš„æŠ€æœ¯ç‚¹ã€‚å¦‚ç¼©ç•¥å›¾çš„æ”¯æŒã€æ¨¡ç³Šæ•ˆæœå¤„ç†ã€å¦‚ä½•æ’‘å¼€ç¼©ç•¥å›¾ç­‰ã€‚  singsong: blog ç«™ç‚¹çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½å¹¶æœªå®Œå…¨æŒ‰ç…§ Medium çš„å®ç°æ–¹å¼ï¼Œåœ¨å…¶åŸºç¡€ä¸Šç¨å¾®åšäº†ä¸€">
<meta name="keywords" content="ä¼˜åŒ–">
<meta property="og:type" content="article">
<meta property="og:title" content="Medium æ¸è¿›æ€§å›¾ç‰‡åŠ è½½ ï¼ˆMedium progressive image loadingï¼‰">
<meta property="og:url" content="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/index.html">
<meta property="og:site_name" content="Sogou.dh.fe">
<meta property="og:description" content="ä¸€ç›´å¯¹ Medium çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½é¢‡æ„Ÿå…´è¶£ï¼Œåˆšå¥½æœ€è¿‘æœ‰æ—¶é—´æŠ˜è…¾äº†ä¸€ä¸‹ğŸ¤˜ã€‚å°æœ‰æ”¶è·ï¼Œå¹¶åœ¨è‡ªå·±çš„ blog ç«™ç‚¹å®è·µäº†ä¸€ä¸‹ï¼Œæ€»ä½“ä½“éªŒè¿˜æ˜¯ä¸é”™æ»´ğŸ˜†ã€‚è™½ç„¶ä¹‹å‰å¯¹å…¶å®ç°æ€è·¯æœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œä½†å½“è‡ªå·±æ·±å…¥ç ”ç©¶åï¼Œå‘ç°è¿˜æ˜¯æœ‰äº›å€¼å¾—æ¢è®¨çš„æŠ€æœ¯ç‚¹ã€‚å¦‚ç¼©ç•¥å›¾çš„æ”¯æŒã€æ¨¡ç³Šæ•ˆæœå¤„ç†ã€å¦‚ä½•æ’‘å¼€ç¼©ç•¥å›¾ç­‰ã€‚  singsong: blog ç«™ç‚¹çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½å¹¶æœªå®Œå…¨æŒ‰ç…§ Medium çš„å®ç°æ–¹å¼ï¼Œåœ¨å…¶åŸºç¡€ä¸Šç¨å¾®åšäº†ä¸€">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/p-img-loading.png">
<meta property="og:image" content="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/lqip-sqip.png">
<meta property="og:image" content="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/200-bytes.jpg">
<meta property="og:image" content="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/pinterest.png">
<meta property="og:updated_time" content="2019-08-14T06:31:03.642Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Medium æ¸è¿›æ€§å›¾ç‰‡åŠ è½½ ï¼ˆMedium progressive image loadingï¼‰">
<meta name="twitter:description" content="ä¸€ç›´å¯¹ Medium çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½é¢‡æ„Ÿå…´è¶£ï¼Œåˆšå¥½æœ€è¿‘æœ‰æ—¶é—´æŠ˜è…¾äº†ä¸€ä¸‹ğŸ¤˜ã€‚å°æœ‰æ”¶è·ï¼Œå¹¶åœ¨è‡ªå·±çš„ blog ç«™ç‚¹å®è·µäº†ä¸€ä¸‹ï¼Œæ€»ä½“ä½“éªŒè¿˜æ˜¯ä¸é”™æ»´ğŸ˜†ã€‚è™½ç„¶ä¹‹å‰å¯¹å…¶å®ç°æ€è·¯æœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œä½†å½“è‡ªå·±æ·±å…¥ç ”ç©¶åï¼Œå‘ç°è¿˜æ˜¯æœ‰äº›å€¼å¾—æ¢è®¨çš„æŠ€æœ¯ç‚¹ã€‚å¦‚ç¼©ç•¥å›¾çš„æ”¯æŒã€æ¨¡ç³Šæ•ˆæœå¤„ç†ã€å¦‚ä½•æ’‘å¼€ç¼©ç•¥å›¾ç­‰ã€‚  singsong: blog ç«™ç‚¹çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½å¹¶æœªå®Œå…¨æŒ‰ç…§ Medium çš„å®ç°æ–¹å¼ï¼Œåœ¨å…¶åŸºç¡€ä¸Šç¨å¾®åšäº†ä¸€">
<meta name="twitter:image" content="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/p-img-loading.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/">





  <title>Medium æ¸è¿›æ€§å›¾ç‰‡åŠ è½½ ï¼ˆMedium progressive image loadingï¼‰ | Sogou.dh.fe</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sogou.dh.fe</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">fe blogs</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-github">
          <a href="https://github.com/sgdh-fe" rel="section">
            
            Github
          </a>
        </li>
      
        
        <li class="menu-item menu-item-projects">
          <a href="http://git.dh.sogou-inc.com/groups/fe" rel="section">
            
            Projects
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://123fe.com/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sgdhfe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/logo.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sogou.dh.fe">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Medium æ¸è¿›æ€§å›¾ç‰‡åŠ è½½ ï¼ˆMedium progressive image loadingï¼‰</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-14T14:28:20+08:00">
                2019-08-14
              </time>
            

            

            
          </span>

          
          <span> ï½œ </span><span class="fa fa-user-o"> </span><span style="color:#222;"> singsong</span>
          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/p-img-loading.png" alt="Medium progressive image loading"></p>
<p>ä¸€ç›´å¯¹ <a href="https://medium.com/" target="_blank" rel="noopener">Medium</a> çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½é¢‡æ„Ÿå…´è¶£ï¼Œåˆšå¥½æœ€è¿‘æœ‰æ—¶é—´æŠ˜è…¾äº†ä¸€ä¸‹ğŸ¤˜ã€‚å°æœ‰æ”¶è·ï¼Œå¹¶åœ¨è‡ªå·±çš„ <a href="https://www.zhansingsong.com" target="_blank" rel="noopener">blog ç«™ç‚¹</a>å®è·µäº†ä¸€ä¸‹ï¼Œæ€»ä½“ä½“éªŒè¿˜æ˜¯ä¸é”™æ»´ğŸ˜†ã€‚è™½ç„¶ä¹‹å‰å¯¹å…¶å®ç°æ€è·¯æœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œä½†å½“è‡ªå·±æ·±å…¥ç ”ç©¶åï¼Œå‘ç°è¿˜æ˜¯æœ‰äº›å€¼å¾—æ¢è®¨çš„æŠ€æœ¯ç‚¹ã€‚å¦‚ç¼©ç•¥å›¾çš„æ”¯æŒã€æ¨¡ç³Šæ•ˆæœå¤„ç†ã€å¦‚ä½•æ’‘å¼€ç¼©ç•¥å›¾ç­‰ã€‚</p>
<blockquote>
<p>singsong: blog ç«™ç‚¹çš„æ¸è¿›æ€§å›¾ç‰‡åŠ è½½å¹¶æœªå®Œå…¨æŒ‰ç…§ Medium çš„å®ç°æ–¹å¼ï¼Œåœ¨å…¶åŸºç¡€ä¸Šç¨å¾®åšäº†ä¸€äº›è°ƒæ•´ã€‚ä¸è¿‡æ•´ä½“æ•ˆæœåŸºæœ¬ä¸Šæ˜¯ä¸€æ ·æ»´ã€‚<br><a id="more"></a></p>
</blockquote>
<h2 id="ç¼©ç•¥å›¾çš„æ”¯æŒ"><a href="#ç¼©ç•¥å›¾çš„æ”¯æŒ" class="headerlink" title="ç¼©ç•¥å›¾çš„æ”¯æŒ"></a>ç¼©ç•¥å›¾çš„æ”¯æŒ</h2><p>è¦å®ç°æ¸è¿›æ€§å›¾ç‰‡åŠ è½½ï¼Œå‰ææ˜¯éœ€è¦åç«¯å¯¹ç¼©ç•¥å›¾æä¾›æ”¯æŒã€‚å…³äºç¼©ç•¥å›¾çš„æ”¯æŒï¼Œä¹‹å‰è‡ªå·±å†™äº†ä¸€ç¯‡æ–‡ç« åšäº†äº›ä»‹ç»ï¼š<a href="https://www.zhansingsong.com/articles/5c34b552430eec101e95d405" target="_blank" rel="noopener">WebP å®æˆ˜</a>ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ã€‚å¦å¤–ï¼Œå…¶ä»–ç›¸å…³æŠ€æœ¯å¯ä»¥å‚è€ƒå¦‚ä¸‹æ–‡ç« :</p>
<ul>
<li><a href="https://www.guypo.com/introducing-lqip-low-quality-image-placeholders" target="_blank" rel="noopener">LQIP â€“ Low Quality Image Placeholders</a></li>
<li><p><a href="https://github.com/technopagan/sqip" target="_blank" rel="noopener">SQIP â€“ SVG-Based Image Placeholder</a></p>
<p><img src="/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/lqip-sqip.png" alt="lqip-sqip"></p>
</li>
<li><p><a href="https://code.fb.com/android/the-technology-behind-preview-photos/" target="_blank" rel="noopener">Facebookâ€™s 200 bytes æŠ€æœ¯</a></p>
<blockquote>
<p>the final format became one byte for version number, one byte each for width and height, and finally the approximately 200 byte payload. The server would just send this format as part of the GraphQL response, and then the client could simply append the JPEG body to the predefined JPEG header, patch the width and height, and treat it as a regular JPEG image. After the standard JPEG decoding, the client could run the predetermined Gaussian blur and scale it to fit the window size. <a href="https://code.fb.com/android/the-technology-behind-preview-photos/" target="_blank" rel="noopener">The technology behind preview photos</a></p>
</blockquote>
<p>è¿™æ˜¯ Facebook ä¸€ç§åŸºäº JPEG ç¼–ç ï¼Œå°†ç¼©ç•¥å›¾(æœ€å¤§ 42*42)å‹ç¼©åˆ° 200 å­—èŠ‚çš„æŠ€æœ¯ã€‚å•æ ‡å‡† JPEG å¤´å¤§å°å°±å¤§äº 200 å­—èŠ‚ï¼Œä½†é™¤å» JPEG å¤´ï¼Œå›¾ç‰‡ç¼–ç æœ‰æ•ˆæ•°æ®å¤§å°åˆšå¥½æ¥è¿‘ 200 å­—èŠ‚ã€‚è¦å®ç°å°†ç¼©ç•¥å›¾å‹ç¼©åˆ° 200 å­—èŠ‚ï¼ŒFacebook å°†æ ‡å‡† JPEG å¤´å›ºæœ‰éƒ¨åˆ†ç§»ç½®å®¢æˆ·ç«¯ï¼Œæœ€ç»ˆå›¾ç‰‡å°±ä¸€å­—èŠ‚çš„ç‰ˆæœ¬å·ã€ä¸€å­—èŠ‚å®½åº¦ã€ä¸€å­—èŠ‚é«˜åº¦å’Œæ•°æ®ä½“ï¼Œæ€»å¤§å°åˆšå¥½çº¦ 200 å­—èŠ‚ã€‚å½“æ•°æ®ä¼ åˆ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¼šå°†æ¥å—åˆ°çš„æ•°æ®ä¸ä¿å­˜åœ¨å®¢æˆ·ç«¯å¤´åˆæˆä¸ºæœ€ç»ˆçš„å›¾ç‰‡ã€‚</p>
<p><img src="/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/200-bytes.jpg" alt="200-bytes"></p>
</li>
</ul>
<h2 id="Medium-å®˜æ–¹å®ç°ä»£ç "><a href="#Medium-å®˜æ–¹å®ç°ä»£ç " class="headerlink" title="Medium å®˜æ–¹å®ç°ä»£ç "></a>Medium å®˜æ–¹å®ç°ä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span> <span class="attr">name</span>=<span class="string">"5a04"</span> <span class="attr">id</span>=<span class="string">"5a04"</span> <span class="attr">class</span>=<span class="string">"graf graf--figure graf-after--h4"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aspectRatioPlaceholder is-locked"</span> <span class="attr">style</span>=<span class="string">"max-width: 800px; max-height: 400px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aspectRatioPlaceholder-fill"</span> <span class="attr">style</span>=<span class="string">"padding-bottom: 50%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded"</span> <span class="attr">data-image-id</span>=<span class="string">"1*9bVaonlM0iP8mSu45GzIeg.png"</span> <span class="attr">data-width</span>=<span class="string">"1200"</span> <span class="attr">data-height</span>=<span class="string">"734"</span> <span class="attr">data-action</span>=<span class="string">"zoom"</span> <span class="attr">data-action-value</span>=<span class="string">"1*9bVaonlM0iP8mSu45GzIeg.png"</span> <span class="attr">data-scroll</span>=<span class="string">"native"</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://cdn-images-1.medium.com/freeze/max/60/1*9bVaonlM0iP8mSu45GzIeg.png?q=20"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span> <span class="attr">class</span>=<span class="string">"progressiveMedia-thumbnail js-progressiveMedia-thumbnail"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"progressiveMedia-canvas js-progressiveMedia-canvas"</span> <span class="attr">width</span>=<span class="string">"40"</span> <span class="attr">height</span>=<span class="string">"20"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"progressiveMedia-image js-progressiveMedia-image"</span> <span class="attr">data-src</span>=<span class="string">"https://cdn-images-1.medium.com/max/1600/1*9bVaonlM0iP8mSu45GzIeg.png"</span> <span class="attr">src</span>=<span class="string">"https://cdn-images-1.medium.com/max/1600/1*9bVaonlM0iP8mSu45GzIeg.png"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">noscript</span> <span class="attr">class</span>=<span class="string">"js-progressiveMedia-inner"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"progressiveMedia-noscript js-progressiveMedia-inner"</span> <span class="attr">src</span>=<span class="string">"https://cdn-images-1.medium.com/max/1600/1*9bVaonlM0iP8mSu45GzIeg.png"</span>/&gt;</span><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¹ˆä¸€å¨ä»£ç çœ‹ä¸å‡ºä»€ä¹ˆæ¥å‘€ ğŸ¤£~~~~ï¼æ€ä¹ˆç ´ï¼Œæ¥ç€å¾€ä¸‹çœ‹ ğŸ‘‡</p>
<h2 id="å‰–æ-Medium-ä»£ç "><a href="#å‰–æ-Medium-ä»£ç " class="headerlink" title="å‰–æ Medium ä»£ç "></a>å‰–æ Medium ä»£ç </h2><blockquote>
<p>singsongï¼šä¸ºäº†æ–¹ä¾¿è®²è§£ï¼Œè¿™é‡Œåˆ æ‰äº†ä¸€äº›æ— ç”¨çš„ç±»åï¼Œç»‘å®šå±æ€§æ•°æ®ã€‚å¹¶å°†æ ·å¼å†…è”äºæ ‡ç­¾å†…ï¼Œå¦‚æœæ˜¯åœ¨å®é™…é¡¹ç›®å¯å°†å…¶ç§»è‡³ css æ–‡ä»¶ä¸­ã€‚</p>
</blockquote>
<h3 id="1-é™åˆ¶å®¹å™¨çš„æœ€å¤§å®½é«˜"><a href="#1-é™åˆ¶å®¹å™¨çš„æœ€å¤§å®½é«˜" class="headerlink" title="1. é™åˆ¶å®¹å™¨çš„æœ€å¤§å®½é«˜"></a>1. é™åˆ¶å®¹å™¨çš„æœ€å¤§å®½é«˜</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å®¹å™¨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"max-width: 800px; max-height: 400px; width: 100%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæœ€å¤§å®½é«˜éœ€è¦ç”±åå°è®¡ç®—æä¾›ã€‚ä¹‹æ‰€ä»¥è¿™é‡Œä½¿ç”¨<code>max-width</code>ã€<code>max-height</code>ï¼Œä¸»è¦ä¸ºäº†è‡ªé€‚åº”å“åº”ã€‚</p>
<h3 id="2-æ’‘å¼€ç¼©ç•¥å›¾"><a href="#2-æ’‘å¼€ç¼©ç•¥å›¾" class="headerlink" title="2. æ’‘å¼€ç¼©ç•¥å›¾"></a>2. æ’‘å¼€ç¼©ç•¥å›¾</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å®¹å™¨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"max-width: 800px; max-height: 400px; width: 100%;"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ’‘å¼€ç¼©ç•¥å›¾ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"padding-bottom: 50%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>singsong: è¿™é‡Œå¯èƒ½æœ‰äº›è¯»è€…ä¼šå¥½å¥‡ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„å…ƒç´ æ¥æ’‘å¼€ç¼©ç•¥å›¾å‘¢ï¼Ÿç›´æ¥ç»™ç¼©ç•¥å›¾è®¾ç½®å›ºå®šå®½é«˜ä¸å°±å®Œäº‹äº†ä¹ˆã€‚å¦‚æœä½ ä¸è€ƒè™‘è‡ªé€‚åº”å“åº”ï¼Œé‚£æ ·æ“ä½œæ˜¯æœ¨æœ‰ä»»ä½•é—®é¢˜æ»´ã€‚</p>
</blockquote>
<p>è¦æ’‘å¼€ç¼©ç•¥å›¾éœ€è¦åŒæ—¶æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li>æ’‘å¼€çš„å®½é«˜æ¯”å¿…é¡»ä¸å®é™…åŸå›¾çš„å®½é«˜æ¯”ä¿æŒä¸€è‡´ã€‚è¿™æ ·æ‰èƒ½ç¡®ä¿è§†è§‰ä¸Šçš„ä¸€è‡´ï¼Œè¿˜èƒ½é¿å…æµè§ˆå™¨ reflowã€‚</li>
<li>æ”¯æŒè‡ªé€‚åº”å“åº”ã€‚è¦åšåˆ°è‡ªé€‚åº”ï¼Œéœ€è¦ä½¿ç”¨ç›¸å¯¹å•ä½ã€‚å¦‚ç™¾åˆ†æ¯”ã€rem ç­‰ã€‚</li>
</ul>
<p>å®½é«˜æ¯”å¯ç”±åå°è®¡ç®—æä¾›ã€‚å‡è®¾è¿™é‡Œå®½é«˜æ¯”è®¾ä¸º<code>ratio=50%;</code>ã€‚è¿™é‡Œçš„å®½æ˜¯ä¸éœ€è¦å¤„ç†ï¼Œå› ä¸ºå®ƒçš„è®¡ç®—æ˜¯å‚è€ƒçˆ¶èŠ‚ç‚¹ widthï¼ˆå³çˆ¶èŠ‚ç‚¹è®¾ç½®äº†<code>width: 100%;</code>ï¼‰ã€‚</p>
<p>ä¸»è¦å·¥ä½œæ˜¯å¦‚ä½•è®¾ç½®é«˜ã€‚é¦–å…ˆä¸èƒ½å°†é«˜ç›´æ¥è®¾ç½®ä¸º: <code>height: 50%;</code>ï¼Œè¿™æ ·æ˜¯ä¸èƒ½æ’‘å¼€é«˜ï¼Œå› ä¸ºå®ƒçš„è®¡ç®—æ˜¯å‚è€ƒçˆ¶èŠ‚ç‚¹é«˜ï¼Œè€Œçˆ¶èŠ‚ç‚¹çš„é«˜æ­¤æ—¶ä¸ºç¼©ç•¥å›¾çš„é«˜ã€‚é‚£æ€ä¹ˆç ´å‘¢ï¼ŸğŸ¤”</p>
<blockquote>
<p><strong>The percentage is calculated with respect to the width of the generated boxâ€™s containing block, even for â€˜padding-topâ€™ and â€˜padding-bottomâ€™.</strong> If the containing blockâ€™s width depends on this element, then the resulting layout is undefined in CSS 2.1. <a href="https://www.w3.org/TR/CSS2/box.html#padding-properties" target="_blank" rel="noopener">W3C-Specification</a></p>
</blockquote>
<p>æ ¹æ®è§„èŒƒï¼Œpadding çš„ percentage è®¡ç®—æ˜¯å‚è€ƒçˆ¶èŠ‚ç‚¹ width æ¥è®¡ç®—çš„ã€‚åˆšå¥½æ»¡è¶³æ’‘å¼€é«˜çš„éœ€æ±‚ï¼Œè®¾ç½®ï¼š<code>padding-bottom: 50%;</code> æˆ– <code>padding-top: 50%;</code>å³å¯ã€‚è¿™æ ·ç¼©ç•¥å›¾è®¾ç½®<code>height:100%; width:100%;</code>å°±èƒ½è‡ªé€‚åº”æ’‘å¼€å•¦ ğŸ˜†</p>
<h3 id="3-æ¸è¿›æ€§åŠ è½½"><a href="#3-æ¸è¿›æ€§åŠ è½½" class="headerlink" title="3. æ¸è¿›æ€§åŠ è½½"></a>3. æ¸è¿›æ€§åŠ è½½</h3><p>ä¸Šè¿°æ­¥éª¤å·²å°†å®¹å™¨åˆ›å»ºå¥½ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°†å›¾ç‰‡æ”¾è¿›å»å³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å®¹å™¨é™åˆ¶é«˜å®½ï¼š800*400 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"position:relative; max-width: 800px; max-height: 400px; width: 100%;"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ’‘å¼€é«˜ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"padding-bottom: 50%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- progressive-imgå®¹å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"position: absolute; width: 100%; height: 100%; left:0; top: 0;"</span> <span class="attr">class</span>=<span class="string">"js-progressive-img"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- placeholderç¼©ç•¥å›¾ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://www.zhansingsong.com/public/imgs/webp.png?width=40"</span> <span class="attr">style</span>=<span class="string">"display: none;"</span> <span class="attr">class</span>=<span class="string">"js-thumbnails"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- è·å–placeholderç¼©ç•¥å›¾ï¼Œå°†å…¶å†™å…¥canvasä¸­ï¼Œå¹¶å¯¹å…¶åº”ç”¨é«˜æ–¯æ¨¡ç³Šæ•ˆæœ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">height</span>=<span class="string">"20"</span>, <span class="attr">width</span>=<span class="string">"40"</span> <span class="attr">class</span>=<span class="string">"js-canvas"</span> <span class="attr">style</span>=<span class="string">"position: absolute; left:0; top:0; height: 100%; width: 100%;"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- åŸå›¾ç‰‡ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://www.zhansingsong.com/public/imgs/webp.png"</span> <span class="attr">class</span>=<span class="string">"js-image"</span> <span class="attr">style</span>=<span class="string">"position: absolute; height: 100%; width: 100%; visibility: hidden; opacity: 0; transition: opacity .4s ease-in, visibility .4s;"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ä¸æ”¯æŒJSçš„å›é€€æ–¹æ¡ˆ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">noscript</span>&gt;</span><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªéšè—çš„ img åŠ è½½ç¼©ç•¥å›¾ã€‚å¦‚æœä½ çš„ç«™ç‚¹æ˜¯éƒ¨ç½²åœ¨ HTTP1.1 ä¸Šï¼Œä¸ºäº†å‡å°‘è¯·æ±‚æ¬¡æ•°ã€‚å¯ä»¥å°†ç¼©ç•¥å›¾è½¬æ¢ä¸º base64 å†…åµŒåœ¨ canvas ä¸Šï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- progressive-imgå®¹å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"position: absolute; width: 100%; height: 100%; left:0; top: 0;"</span> <span class="attr">class</span>=<span class="string">"js-progressive-img"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- è·å–placeholderç¼©ç•¥å›¾ï¼Œå°†å…¶å†™å…¥canvasä¸­ï¼Œå¹¶å¯¹å…¶åº”ç”¨é«˜æ–¯æ¨¡ç³Šæ•ˆæœ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">data-src</span>=<span class="string">"data:image/PNG;base64,ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span> <span class="attr">height</span>=<span class="string">"20"</span>, <span class="attr">width</span>=<span class="string">"40"</span> <span class="attr">class</span>=<span class="string">"js-canvas"</span> <span class="attr">style</span>=<span class="string">"position: absolute; left:0; top:0; height: 100%; width: 100%;"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åŸå›¾ç‰‡ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://www.zhansingsong.com/public/imgs/webp.png"</span> <span class="attr">class</span>=<span class="string">"js-image"</span> <span class="attr">style</span>=<span class="string">"position: absolute; height: 100%; width: 100%; visibility: hidden; opacity: 0; transition: opacity .4s ease-in, visibility .4s;"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>/&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä¸æ”¯æŒJSçš„å›é€€æ–¹æ¡ˆ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">noscript</span>&gt;</span><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆè¿™é‡Œ Medium è¦é€‰æ‹©ä½¿ç”¨ canvasï¼Œè€Œä¸ç›´æ¥ä½¿ç”¨<code>img</code>å‘¢ï¼ŸåŸå› å¯èƒ½æœ‰å¦‚ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>å¦‚æœç¼©ç•¥å›¾çš„å®½é«˜æ¯”ä¸åŸå›¾çš„ä¸ä¸€è‡´ï¼Œimg ä¸èƒ½å¾ˆå¥½å¤„ç†ã€‚å¦‚ç¼©ç•¥å›¾ï¼š20:11=1.81818ï¼ŒåŸå›¾ï¼š1920:1080=1.77777; è€Œå®¹å™¨å®½é«˜æ¯”æ˜¯æŒ‰ç…§åŸå›¾è®¾ç½®çš„ï¼Œå³ä¹Ÿä¸ºï¼š1.77777ã€‚è™½åœ¨è§†è§‰æ•ˆæœä¸Šæ²¡å¤šå¤§å½±å“ï¼Œä¸è¿‡ä½¿ç”¨ Canvas å¯ä»¥å¾ˆå¥½åœ°é¿å…è¿™æ ·çš„é—®é¢˜ã€‚</li>
<li>Canvas èƒ½å¯¹å›¾ç‰‡åš blur æ•ˆæœå¤„ç†ã€‚è™½ç„¶ css ä¹Ÿèƒ½å¤„ç† blur æ•ˆæœï¼Œä½†å…¼å®¹æ€§ä¸å¦‚ Canvasã€‚</li>
</ul>
<p>å¦å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li><code>&lt;canvas height=&quot;20&quot;, width=&quot;40&quot; class=&quot;js-canvas&quot; style=&quot;position: absolute; left:0; top:0; height: 100%; width: 100%;&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/canvas&gt;</code> è¿™é‡Œçš„<code>height</code>ã€<code>width</code>æ˜¯ç¼©ç•¥å›¾çš„å®½ã€é«˜ï¼Œç”±åå°è®¡ç®—æä¾›ã€‚å¦å¤–ï¼Œéœ€è¦è®¾ç½®<code>height: 100%; width: 100%;</code>ï¼Œè¿™æ ·æ‰èƒ½å°† canvas æ’‘å¼€ä¸ºå®¹å™¨çš„å¤§å°ã€‚</li>
<li>å…ƒç´ ä¹‹é—´çš„å å±‚é¡ºåºï¼Œimg åŸå›¾ä¸€å®šè¦åœ¨ canvas çš„ä¸Šé¢ã€‚å¦‚æœä¸è¿™æ ·å æ”¾ï¼Œåˆ«äººæƒ³è¦ copy ä½ çš„å›¾ç‰‡ã€‚è¿™æ—¶ copy å¾—åˆ°å°±ä¼šæ˜¯ç¼©ç•¥å›¾äº†ã€‚</li>
</ul>
<p>åˆ°è¿™é‡Œï¼Œç»“æ„æ ·å¼ä¹Ÿå·²å®Œæˆã€‚æ¥ä¸‹æ¥æ³¨å…¥ JavaScript é€»è¾‘ã€‚å®ç°æ€è·¯ä¹Ÿå¾ˆç®€å•ï¼š</p>
<ul>
<li>åŠ è½½ç¼©ç•¥å›¾ï¼Œå¹¶å°†å…¶å†™å…¥ canvasï¼Œå†å¯¹å…¶ä½¿ç”¨ blur æ•ˆæœã€‚</li>
<li>åœ¨åŸå›¾åŠ è½½å®Œåï¼Œæ˜¾ç¤ºåŸå›¾ã€‚è¿™é‡Œå¯ä»¥é…åˆæ‡’åŠ è½½ï¼Œå†åŠ ä¸Šä¸€äº›è¿‡æ»¤æ•ˆæœï¼Œå¯ä»¥è®©ä½“éªŒæ›´åŠ å‹å¥½ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> progressiveImg = <span class="built_in">document</span>.querySelector(<span class="string">".js-progressive-img"</span>);</span><br><span class="line"><span class="comment">// è·å–ç¼©ç•¥å›¾</span></span><br><span class="line"><span class="keyword">const</span> thumbnails = progressiveImg.querySelector(<span class="string">".js-thumbnails"</span>);</span><br><span class="line"><span class="comment">// è·å–canvas</span></span><br><span class="line"><span class="keyword">const</span> canvas = progressiveImg.querySelector(<span class="string">".js-canvas"</span>);</span><br><span class="line"><span class="comment">// è·å–åŸå›¾</span></span><br><span class="line"><span class="keyword">const</span> image = progressiveImg.querySelector(<span class="string">".js-image"</span>);</span><br><span class="line"><span class="comment">// è·å–canvasçš„context</span></span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> drawImg = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  ctx.drawImage(thumbnails, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="comment">// stack-blur</span></span><br><span class="line">  stackBlurCanvasRGBA(ctx, <span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height, <span class="number">3</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// thumbnails</span></span><br><span class="line">thumbnails.onload = <span class="function"><span class="params">()</span> =&gt;</span> drawImg();</span><br><span class="line"><span class="keyword">if</span> (thumbnails.complete) &#123;</span><br><span class="line">  drawImg();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// progressive image</span></span><br><span class="line">image.onload = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿæ•ˆæœ</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    image.style.opacity = <span class="number">1</span>;</span><br><span class="line">    image.style.visibility = <span class="string">"visible"</span>;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ blur æ•ˆæœæ˜¯ä½¿ç”¨ <a href="http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html" target="_blank" rel="noopener">stackBlur</a> å®Œæˆçš„ã€‚å®Œæ•´å®ä¾‹ä»£ç ï¼š</p>
<iframe height="265" scrolling="no" title="Medium loading image effect" src="//codepen.io/zhansingsong/embed/preview/GPwGMy/?height=265&theme-id=0&default-tab=html,result" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="https://codepen.io/zhansingsong/pen/GPwGMy/" target="_blank" rel="noopener">Medium loading image effect</a> by zhansingsong (<a href="https://codepen.io/zhansingsong" target="_blank" rel="noopener">@zhansingsong</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<h2 id="å…¶ä»–-blur-æ•ˆæœ"><a href="#å…¶ä»–-blur-æ•ˆæœ" class="headerlink" title="å…¶ä»– blur æ•ˆæœ"></a>å…¶ä»– blur æ•ˆæœ</h2><p>å½“æµè§ˆå™¨æ¸²æŸ“è¢«æ”¾å¤§çš„ç¼©ç•¥å›¾æ—¶ï¼Œä¸ºäº†ä¸è®©ç”¨æˆ·çœ‹è§åƒç´ å—åŒ–å›¾ç‰‡ï¼Œä¼šåº”ç”¨ä¸€äº›æ¨¡ç³Šæ•ˆæœè®©å…¶çœ‹èµ·æ¥æ›´åŠ å¹³æ»‘ã€‚æ‰€ä»¥ï¼Œå¦‚æœæµè§ˆå™¨é»˜è®¤ blur æ•ˆæœåˆšå¥½æ»¡è¶³ä½ çš„éœ€è¦ï¼Œå°±ä¸éœ€è¦åšé¢å¤–çš„å¤„ç†ã€‚</p>
<iframe height="265" scrolling="no" title="browser default blur render" src="//codepen.io/zhansingsong/embed/preview/KbbVwW/?height=265&theme-id=0&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="https://codepen.io/zhansingsong/pen/KbbVwW/" target="_blank" rel="noopener">browser default blur render</a> by zhansingsong (<a href="https://codepen.io/zhansingsong" target="_blank" rel="noopener">@zhansingsong</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>ä½†å¹¶ä¸æ˜¯æ‰€æœ‰å›¾ç‰‡éƒ½éœ€è¦è¿™ç§æ•ˆæœï¼Œå¦‚äºŒç»´ç å›¾ç‰‡å¯èƒ½å°±ä¸éœ€è¦è¿™ç§æ¸²æŸ“æ•ˆæœã€‚å¯ä»¥å‚è€ƒå¦‚ä¸‹æ–¹å¼å…³é—­ï¼š</p>
<ul>
<li><a href="http://superuser.com/questions/530317/how-to-prevent-chrome-from-blurring-small-images-when-zoomed-in" target="_blank" rel="noopener">How to prevent Chrome from blurring small images when zoomed in?</a></li>
<li><a href="https://developers.google.com/web/updates/2015/01/pixelated" target="_blank" rel="noopener">image-rendering: pixelated(the browser would render it in a way that didnâ€™t make it look blocky)</a></li>
</ul>
<iframe height="265" scrolling="no" title="turn off browser blur" src="//codepen.io/zhansingsong/embed/preview/maaVJN/?height=265&theme-id=0&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="https://codepen.io/zhansingsong/pen/maaVJN/" target="_blank" rel="noopener">turn off browser blur</a> by zhansingsong (<a href="https://codepen.io/zhansingsong" target="_blank" rel="noopener">@zhansingsong</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>blur æ•ˆæœä¹Ÿå¯ä½¿ç”¨ <a href="http://codepen.io/aniketpant/pen/DsEve" target="_blank" rel="noopener">CSS Filter</a>ã€‚<a href="http://caniuse.com/#feat=css-filters" target="_blank" rel="noopener">é™¤äº† IE ä¸æ”¯æŒå¤–ï¼Œå…¶ä»–æµè§ˆå™¨éƒ½æ”¯æŒ</a>ã€‚</p>
<iframe height="265" scrolling="no" title="css Filter" src="//codepen.io/zhansingsong/embed/preview/WLLrro/?height=265&theme-id=0&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="https://codepen.io/zhansingsong/pen/WLLrro/" target="_blank" rel="noopener">css Filter</a> by zhansingsong (<a href="https://codepen.io/zhansingsong" target="_blank" rel="noopener">@zhansingsong</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<p>å¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/filter" target="_blank" rel="noopener">SVG filter</a>ï¼š</p>
<ul>
<li><a href="https://css-tricks.com/the-blur-up-technique-for-loading-background-images/" target="_blank" rel="noopener">The â€œBlur Upâ€ Technique for Loading Background Images</a></li>
<li><a href="http://rentafounder.com/textured-gradients-in-pure-css/" target="_blank" rel="noopener">Textured Gradients in Pure CSS</a></li>
</ul>
<iframe height="265" scrolling="no" title="SVG filter" src="//codepen.io/zhansingsong/embed/preview/VqqeQZ/?height=265&theme-id=0&default-tab=css,result" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="https://codepen.io/zhansingsong/pen/VqqeQZ/" target="_blank" rel="noopener">SVG filter</a> by zhansingsong (<a href="https://codepen.io/zhansingsong" target="_blank" rel="noopener">@zhansingsong</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.<br></iframe>

<h2 id="å…¶ä»–ç›¸å…³åŠ è½½æŠ€æœ¯"><a href="#å…¶ä»–ç›¸å…³åŠ è½½æŠ€æœ¯" class="headerlink" title="å…¶ä»–ç›¸å…³åŠ è½½æŠ€æœ¯"></a>å…¶ä»–ç›¸å…³åŠ è½½æŠ€æœ¯</h2><h3 id="Color-Placeholder"><a href="#Color-Placeholder" class="headerlink" title="Color Placeholder"></a>Color Placeholder</h3><p>ä¸ progressive image loading æŠ€æœ¯ç›¸æ¯”è¾ƒï¼Œè¿™ç§åŠ è½½æŠ€æœ¯ä¸æ˜¯ä½¿ç”¨å›¾ç‰‡ä½œä¸º Placeholderï¼Œè€Œæ˜¯ä½¿ç”¨åŸå›¾çš„ä¸»è¦é¢œè‰²(ä¹Ÿç§°ä¸º Dominant Color)ä½œä¸º Placeholderã€‚è¿™ç§æŠ€æœ¯å¾ˆé€‚åˆå›¾ç‰‡å¤šçš„æƒ…å†µï¼Œå› ä¸ºå®ƒä¸éœ€è¦é¢å¤–åŠ è½½ç¼©ç•¥å›¾ï¼Œè€Œä¸”åˆä¿è¯ä¸€å®šç”¨æˆ·ä½“éªŒã€‚åƒ<a href="https://www.google.com/search?q=husky&amp;safe=strict&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ved=0ahUKEwiakr_LgevfAhVCA4gKHbbxDpEQ_AUIDigB&amp;biw=1419&amp;bih=1000" target="_blank" rel="noopener">Google</a>ã€<a href="https://www.pinterest.com/search/pins/?q=husky&amp;rs=typed&amp;term_meta[]=husky%7Ctyped" target="_blank" rel="noopener">Pinterest</a>å›¾ç‰‡å±•ç¤ºå°±ä½¿ç”¨è¿™ç§åŠ è½½æŠ€æœ¯ã€‚</p>
<p><img src="/2019/08/14/Medium-æ¸è¿›æ€§å›¾ç‰‡åŠ è½½-ï¼ˆMedium-progressive-image-loadingï¼‰/pinterest.png" alt="pinterest"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦å¯¹ Medium æ¸è¿›æ€§å›¾ç‰‡åŠ è½½çš„å®ç°æŠ€æœ¯åšäº†ç›¸å…³ä»‹ç»ï¼ŒåŒæ—¶è¿˜å¯¹ä½¿ç”¨åˆ°çš„æŠ€æœ¯åšäº†ç›¸å…³å»¶å±•ã€‚åœ¨å†³å®šå†™è¿™ç¯‡ blog æ—¶ï¼Œè‡ªå·±å¯¹å…¶å®ç°åšäº†æ·±å…¥åœ°ç ”ç©¶ï¼Œæ”¶è·é¢‡å¤šã€‚å‘ç° Medium åœ¨å®ç°æŠ€æœ¯ä¸Šï¼Œå¤„ç†ç»†èŠ‚ä¸Šï¼Œéƒ½æœ‰å¾ˆå¤šå€¼å¾—å­¦ä¹ åœ°æ–¹ã€‚æœ¬æ–‡åªæ˜¯å°†å…¶ä¸­å…³é”®æŠ€æœ¯ç‚¹åšäº†ä»‹ç»ã€‚å¦å¤–ï¼Œç‰¹åˆ«å€¼å¾—æä¸€ä¸‹çš„æ˜¯ï¼š Medium åœ¨å®ç°æŠ€æœ¯åˆ«å‡ºå¿ƒè£ï¼Œå®ç°æ–¹å¼å¹¶æœªæŒ‰å¸¸è§„å®ç°æ–¹å¼ã€‚å¦‚å®ƒçš„å›¾ç‰‡æŸ¥çœ‹åŠŸèƒ½ï¼Œå®ƒå¹¶æ²¡åˆ›å»ºæ–°çš„é€»è¾‘ç»“æ„æ¥å±•ç¤ºå›¾ï¼Œè€Œæ˜¯åœ¨åŸå›¾çš„ç»“æ„åŸºç¡€ä¸Šåšå¤„ç†ï¼Œå¹¶ä½¿ç”¨ <code>padding</code> æ¥å¡«å……èƒŒæ™¯ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯è‡ªè¡Œç ”ç©¶ï¼Œæˆ‘ç›¸ä¿¡ä½ ä¸€å®šä¼šæœ‰æ”¶è·æ»´ã€‚å½“ç„¶ï¼Œè‡ªå·±ä¹Ÿå°†è¯¥åŠŸèƒ½ç§»ç½®æˆ‘çš„ blog ç«™ç‚¹å•¦ğŸ˜†ã€‚</p>
<h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul>
<li><a href="https://zurb.com/playground/image-blur-texture" target="_blank" rel="noopener">Image Blur Texture</a></li>
<li><a href="https://jmperezperez.com/medium-image-progressive-loading-placeholder/" target="_blank" rel="noopener">How Medium does progressive image loading</a></li>
<li><a href="https://slides.com/jmperez/pir-frontfest#/" target="_blank" rel="noopener">Progressive image rendering</a></li>
<li><a href="https://code.facebook.com/posts/991252547593574/the-technology-behind-preview-photos/" target="_blank" rel="noopener">The technology behind preview photos</a></li>
<li><a href="https://blog.codinghorror.com/progressive-image-rendering/" target="_blank" rel="noopener">Progressive Image Rendering</a></li>
<li><a href="https://www.smashingmagazine.com/2018/02/progressive-image-loading-user-perceived-performance/" target="_blank" rel="noopener">Taking A Look At The State Of Progressive Images And User Perception</a></li>
<li><a href="https://css-tricks.com/the-blur-up-technique-for-loading-background-images/" target="_blank" rel="noopener">The â€œBlur Upâ€ Technique for Loading Background Images</a></li>
<li><a href="https://codepen.io/abramstyle/pen/Bzwqvr" target="_blank" rel="noopener">https://codepen.io/abramstyle/pen/Bzwqvr</a></li>
<li><a href="https://codepen.io/jmperez/pen/yYjPER" target="_blank" rel="noopener">Reproducing Medium loading image effect</a></li>
<li><a href="https://www.quora.com/How-do-I-implement-progressive-image-loading" target="_blank" rel="noopener">How do I implement progressive image loading?</a></li>
<li><a href="https://zurb.com/playground/image-blur-texture" target="_blank" rel="noopener">Image Blur Texture</a></li>
<li><a href="https://superuser.com/questions/530317/how-to-prevent-chrome-from-blurring-small-images-when-zoomed-in" target="_blank" rel="noopener">How to prevent Chrome from blurring small images when zoomed in?</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ä¼˜åŒ–/" rel="tag"># ä¼˜åŒ–</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/08/14/WebPå®æˆ˜/" rel="next" title="WebPå®æˆ˜">
                <i class="fa fa-chevron-left"></i> WebPå®æˆ˜
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/logo.png" alt="sgdhfe">
            
              <p class="site-author-name" itemprop="name">sgdhfe</p>
              <p class="site-description motion-element" itemprop="description">ğŸ³ğŸ³ æœç‹—å¯¼èˆªå‰ç«¯å¼€å‘ç»„ ğŸ¬ğŸ¬</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">24</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/sgdh-fe" target="_blank" title="github">
                      
                        <i class="fa fa-fw fa-github"></i>github</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://123.sogou.com/" title="123sogou" target="_blank">123sogou</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ç¼©ç•¥å›¾çš„æ”¯æŒ"><span class="nav-number">1.</span> <span class="nav-text">ç¼©ç•¥å›¾çš„æ”¯æŒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Medium-å®˜æ–¹å®ç°ä»£ç "><span class="nav-number">2.</span> <span class="nav-text">Medium å®˜æ–¹å®ç°ä»£ç </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‰–æ-Medium-ä»£ç "><span class="nav-number">3.</span> <span class="nav-text">å‰–æ Medium ä»£ç </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-é™åˆ¶å®¹å™¨çš„æœ€å¤§å®½é«˜"><span class="nav-number">3.1.</span> <span class="nav-text">1. é™åˆ¶å®¹å™¨çš„æœ€å¤§å®½é«˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-æ’‘å¼€ç¼©ç•¥å›¾"><span class="nav-number">3.2.</span> <span class="nav-text">2. æ’‘å¼€ç¼©ç•¥å›¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-æ¸è¿›æ€§åŠ è½½"><span class="nav-number">3.3.</span> <span class="nav-text">3. æ¸è¿›æ€§åŠ è½½</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å…¶ä»–-blur-æ•ˆæœ"><span class="nav-number">4.</span> <span class="nav-text">å…¶ä»– blur æ•ˆæœ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å…¶ä»–ç›¸å…³åŠ è½½æŠ€æœ¯"><span class="nav-number">5.</span> <span class="nav-text">å…¶ä»–ç›¸å…³åŠ è½½æŠ€æœ¯</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Color-Placeholder"><span class="nav-number">5.1.</span> <span class="nav-text">Color Placeholder</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ€»ç»“"><span class="nav-number">6.</span> <span class="nav-text">æ€»ç»“</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚è€ƒæ–‡ç« "><span class="nav-number">7.</span> <span class="nav-text">å‚è€ƒæ–‡ç« </span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sgdhfe</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
